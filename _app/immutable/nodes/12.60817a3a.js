import{s as se,a as le,n as ee,r as oe}from"../chunks/scheduler.e38c76a0.js";import{S as ne,i as ie,c as l,s as _,p as re,f as o,d as f,h as x,g as M,k as A,l as e,m as t,a as te,A as U,o as F}from"../chunks/index.a3868cec.js";import{p as ce,c as ue,b as de}from"../chunks/stores.8228ae5f.js";import{A as ae}from"../chunks/axiosInstance.ef705138.js";import{C as P}from"../chunks/Cookie.69c16b24.js";import{l as pe}from"../chunks/logoVazia.838c1158.js";import{g as me}from"../chunks/navigation.2d2a480e.js";const fe=!0,ve=!0,we=Object.freeze(Object.defineProperty({__proto__:null,csr:ve,prerender:fe},Symbol.toStringTag,{value:"Module"}));function he(k){let v,E,i,s,h,q,S,b,p="Acesse com seu e-mail instrucional.",c,a,n,g,K="Email",z,u,O,w,C,Q="Senha",j,d,B,L,R='<div class="w-1/2"><input type="checkbox" id="remeberMe"/> <label for="remeberMe">Lembrar E-mail</label></div> <div class="w-1/2"><a class="font-bold text-content-primary" href="/">Esqueceu a senha?</a></div>',$,V,D,G,I,W='<a href="cadastro" class="font-bold text-content-primary">Criar Conta</a>',J,X;return document.title=ce+" - Login",{c(){v=l("meta"),E=_(),i=l("div"),s=l("div"),h=l("img"),S=_(),b=l("h1"),b.textContent=p,c=_(),a=l("div"),n=l("div"),g=l("label"),g.textContent=K,z=_(),u=l("input"),O=_(),w=l("div"),C=l("label"),C.textContent=Q,j=_(),d=l("input"),B=_(),L=l("div"),L.innerHTML=R,$=_(),V=l("div"),D=l("input"),G=_(),I=l("div"),I.innerHTML=W,this.h()},l(r){const y=re("svelte-19bpmt6",document.head);v=o(y,"META",{name:!0,content:!0}),y.forEach(f),E=x(r),i=o(r,"DIV",{class:!0});var Y=M(i);s=o(Y,"DIV",{class:!0});var T=M(s);h=o(T,"IMG",{class:!0,src:!0,alt:!0}),S=x(T),b=o(T,"H1",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-68q4yt"&&(b.textContent=p),c=x(T),a=o(T,"DIV",{class:!0});var m=M(a);n=o(m,"DIV",{});var H=M(n);g=o(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),A(g)!=="svelte-15brz1k"&&(g.textContent=K),z=x(H),u=o(H,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),H.forEach(f),O=x(m),w=o(m,"DIV",{});var N=M(w);C=o(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),A(C)!=="svelte-15snypq"&&(C.textContent=Q),j=x(N),d=o(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),N.forEach(f),B=x(m),L=o(m,"DIV",{class:!0,"data-svelte-h":!0}),A(L)!=="svelte-23fomi"&&(L.innerHTML=R),$=x(m),V=o(m,"DIV",{});var Z=M(V);D=o(Z,"INPUT",{class:!0,type:!0}),Z.forEach(f),G=x(m),I=o(m,"DIV",{"data-svelte-h":!0}),A(I)!=="svelte-12f8o3w"&&(I.innerHTML=W),m.forEach(f),T.forEach(f),Y.forEach(f),this.h()},h(){e(v,"name","description"),e(v,"content","Svelte demo app"),e(h,"class","h-[100px] w-auto"),le(h.src,q=pe)||e(h,"src",q),e(h,"alt",""),e(b,"class","text-xl font-bold text-center pb-10"),e(g,"class","font-bold inline-block pb-2"),e(g,"for","email"),e(u,"class","border border-gray-400 text-black focus:outline-slate-400 rounded-md w-full shadow-sm px-5 py-2"),e(u,"type","email"),e(u,"name","email"),e(u,"placeholder","exemplo@aedb.br"),e(C,"class","font-bold inline-block pb-2"),e(C,"for","password"),e(d,"class","border border-gray-400 text-black focus:outline-slate-400 rounded-md w-full shadow-sm px-5 py-2"),e(d,"type","password"),e(d,"name","password"),e(d,"placeholder","******"),e(L,"class","flex"),e(D,"class","btnPrimaryComponent"),e(D,"type","submit"),D.value="Login",e(a,"class","bg-bg-primary shadow-xl p-10 flex flex-col gap-4 text-sm"),e(s,"class","h-max mx-auto flex flex-col items-center"),e(i,"class","flex items-center text-text-primary")},m(r,y){t(document.head,v),te(r,E,y),te(r,i,y),t(i,s),t(s,h),t(s,S),t(s,b),t(s,c),t(s,a),t(a,n),t(n,g),t(n,z),t(n,u),U(u,k[0]),t(a,O),t(a,w),t(w,C),t(w,j),t(w,d),U(d,k[1]),t(a,B),t(a,L),t(a,$),t(a,V),t(V,D),t(a,G),t(a,I),J||(X=[F(u,"input",k[3]),F(d,"input",k[4]),F(D,"click",k[2])],J=!0)},p(r,[y]){y&1&&u.value!==r[0]&&U(u,r[0]),y&2&&d.value!==r[1]&&U(d,r[1])},i:ee,o:ee,d(r){r&&(f(E),f(i)),f(v),J=!1,oe(X)}}}function be(k,v,E){let i,s;async function h(){if(i==null||i.includes("@aedb.br")==!1)alert("E-mail inválido");else if(s==null)alert("Senha inválida");else{const p=await ae.put("usuarios/login",{email:i,senha:s}).catch(n=>{n.response.status==401&&alert("E-mail ou senha inválidos")}),c=await ae.get("usuarios/email",{email:p.email}),a=new ue(c.id,c.idCurso,c.nome,p.email,"",c.idCurso,c.papel,p.token);de.set(a),q(p,a),me("/biblioteca")}}function q(p,c){const n=new Date;n.setDate(n.getDate()+2),P.setCookie("email",p.email,n),P.setCookie("token",p.token,n),P.setCookie("login",JSON.stringify(c),n)}console.log(P.getCookie("email")),console.log(P.getCookie("token"));function S(){i=this.value,E(0,i)}function b(){s=this.value,E(1,s)}return[i,s,h,S,b]}class Le extends ne{constructor(v){super(),ie(this,v,be,he,se,{})}}export{Le as component,we as universal};
