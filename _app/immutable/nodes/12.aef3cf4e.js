import{s as se,a as le,n as ee,r as ne}from"../chunks/scheduler.bb0ecb07.js";import{S as oe,i as ie,c as n,s as x,p as re,f as o,d as v,h as g,g as T,k as S,l as e,m as t,a as te,A as U,o as V}from"../chunks/index.659734c4.js";import{p as ce,c as ue,b as de}from"../chunks/stores.add2e089.js";import{A as ae}from"../chunks/axiosInstance.28f237f7.js";import{C as K}from"../chunks/Cookie.69c16b24.js";import{l as pe}from"../chunks/logoVazia.838c1158.js";import{g as me}from"../chunks/navigation.445d6e84.js";const fe=!0,ve=!0,Le=Object.freeze(Object.defineProperty({__proto__:null,csr:ve,prerender:fe},Symbol.toStringTag,{value:"Module"}));function he(h){let _,E,i,l,m,A,M,b,q="Acesse com seu e-mail instrucional.",r,a,p,s,F="Email",z,c,O,k,y,Q="Senha",j,u,B,L,R='<div class="w-1/2"><input type="checkbox" id="remeberMe"/> <label for="remeberMe">Lembrar E-mail</label></div> <div class="w-1/2"><a class="font-bold text-content-primary" href="/">Esqueceu a senha?</a></div>',$,P,w,G,D,W='<a href="cadastro" class="font-bold text-content-primary">Criar Conta</a>',J,X;return document.title=ce+" - Login",{c(){_=n("meta"),E=x(),i=n("div"),l=n("div"),m=n("img"),M=x(),b=n("h1"),b.textContent=q,r=x(),a=n("div"),p=n("div"),s=n("label"),s.textContent=F,z=x(),c=n("input"),O=x(),k=n("div"),y=n("label"),y.textContent=Q,j=x(),u=n("input"),B=x(),L=n("div"),L.innerHTML=R,$=x(),P=n("div"),w=n("input"),G=x(),D=n("div"),D.innerHTML=W,this.h()},l(d){const C=re("svelte-19bpmt6",document.head);_=o(C,"META",{name:!0,content:!0}),C.forEach(v),E=g(d),i=o(d,"DIV",{class:!0});var Y=T(i);l=o(Y,"DIV",{class:!0});var I=T(l);m=o(I,"IMG",{class:!0,src:!0,alt:!0}),M=g(I),b=o(I,"H1",{class:!0,"data-svelte-h":!0}),S(b)!=="svelte-68q4yt"&&(b.textContent=q),r=g(I),a=o(I,"DIV",{class:!0});var f=T(a);p=o(f,"DIV",{});var H=T(p);s=o(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),S(s)!=="svelte-15brz1k"&&(s.textContent=F),z=g(H),c=o(H,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),H.forEach(v),O=g(f),k=o(f,"DIV",{});var N=T(k);y=o(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),S(y)!=="svelte-15snypq"&&(y.textContent=Q),j=g(N),u=o(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),N.forEach(v),B=g(f),L=o(f,"DIV",{class:!0,"data-svelte-h":!0}),S(L)!=="svelte-23fomi"&&(L.innerHTML=R),$=g(f),P=o(f,"DIV",{});var Z=T(P);w=o(Z,"INPUT",{class:!0,type:!0}),Z.forEach(v),G=g(f),D=o(f,"DIV",{"data-svelte-h":!0}),S(D)!=="svelte-12f8o3w"&&(D.innerHTML=W),f.forEach(v),I.forEach(v),Y.forEach(v),this.h()},h(){e(_,"name","description"),e(_,"content","Svelte demo app"),e(m,"class","h-[100px] w-auto"),le(m.src,A=pe)||e(m,"src",A),e(m,"alt",""),e(b,"class","text-xl font-bold text-center pb-10"),e(s,"class","font-bold inline-block pb-2"),e(s,"for","email"),e(c,"class","txtPrimaryComponent"),e(c,"type","email"),e(c,"name","email"),e(c,"placeholder","exemplo@aedb.br"),e(y,"class","font-bold inline-block pb-2"),e(y,"for","password"),e(u,"class","txtPrimaryComponent"),e(u,"type","password"),e(u,"name","password"),e(u,"placeholder","******"),e(L,"class","flex"),e(w,"class","btnPrimaryComponent"),e(w,"type","submit"),w.value="Login",e(a,"class","bg-bg-primary shadow-xl p-10 flex flex-col gap-4 text-sm"),e(l,"class","h-max mx-auto flex flex-col items-center"),e(i,"class","flex items-center text-text-primary")},m(d,C){t(document.head,_),te(d,E,C),te(d,i,C),t(i,l),t(l,m),t(l,M),t(l,b),t(l,r),t(l,a),t(a,p),t(p,s),t(p,z),t(p,c),U(c,h[0]),t(a,O),t(a,k),t(k,y),t(k,j),t(k,u),U(u,h[1]),t(a,B),t(a,L),t(a,$),t(a,P),t(P,w),t(a,G),t(a,D),J||(X=[V(c,"input",h[4]),V(c,"keypress",h[3]),V(u,"input",h[5]),V(u,"keypress",h[3]),V(w,"click",h[2])],J=!0)},p(d,[C]){C&1&&c.value!==d[0]&&U(c,d[0]),C&2&&u.value!==d[1]&&U(u,d[1])},i:ee,o:ee,d(d){d&&(v(E),v(i)),v(_),J=!1,ne(X)}}}function _e(h,_,E){let i,l;async function m(){if(i==null||i.includes("@aedb.br")==!1)alert("E-mail inválido");else if(l==null)alert("Senha inválida");else{const r=await ae.put("usuarios/login",{email:i,senha:l}).catch(s=>{console.log(s),s.response.status==401&&alert("E-mail ou senha inválidos")}),a=await ae.get("usuarios/email",{email:r.email}),p=new ue(a.id,a.idCurso,a.nome,r.email,"",a.papel,null,r.token);de.set(p),M(r,p),me("/biblioteca")}}function A(r){r.key=="Enter"&&m()}function M(r,a){const s=new Date;s.setDate(s.getDate()+2),K.setCookie("email",r.email,s),K.setCookie("token",r.token,s),K.setCookie("login",JSON.stringify(a),s)}function b(){i=this.value,E(0,i)}function q(){l=this.value,E(1,l)}return[i,l,m,A,b,q]}class we extends oe{constructor(_){super(),ie(this,_,_e,he,se,{})}}export{we as component,Le as universal};
