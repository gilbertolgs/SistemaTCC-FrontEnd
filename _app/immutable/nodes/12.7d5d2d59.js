import{s as se,a as le,n as ee,r as ne}from"../chunks/scheduler.bb0ecb07.js";import{S as ie,i as oe,c as n,s as x,p as re,f as i,d as v,h as g,g as T,k as V,l as e,m as t,a as te,A as U,o as A}from"../chunks/index.659734c4.js";import{p as ue,c as ce,b as de}from"../chunks/stores.add2e089.js";import{A as ae}from"../chunks/axiosInstance.07e2da7d.js";import{C as K}from"../chunks/Cookie.69c16b24.js";import{l as pe}from"../chunks/logoVazia.838c1158.js";import{g as me}from"../chunks/navigation.53a6913f.js";const fe=!0,ve=!0,Le=Object.freeze(Object.defineProperty({__proto__:null,csr:ve,prerender:fe},Symbol.toStringTag,{value:"Module"}));function he(h){let b,E,o,l,m,P,M,_,q="Acesse com seu e-mail instrucional.",r,a,p,s,F="Email",z,u,O,k,y,Q="Senha",j,c,B,L,R='<div class="w-1/2"><input type="checkbox" id="remeberMe"/> <label for="remeberMe">Lembrar E-mail</label></div> <div class="w-1/2"><a class="font-bold text-content-primary" href="/">Esqueceu a senha?</a></div>',$,S,w,G,D,W='<a href="cadastro" class="font-bold text-content-primary">Criar Conta</a>',J,X;return document.title=ue+" - Login",{c(){b=n("meta"),E=x(),o=n("div"),l=n("div"),m=n("img"),M=x(),_=n("h1"),_.textContent=q,r=x(),a=n("div"),p=n("div"),s=n("label"),s.textContent=F,z=x(),u=n("input"),O=x(),k=n("div"),y=n("label"),y.textContent=Q,j=x(),c=n("input"),B=x(),L=n("div"),L.innerHTML=R,$=x(),S=n("div"),w=n("input"),G=x(),D=n("div"),D.innerHTML=W,this.h()},l(d){const C=re("svelte-19bpmt6",document.head);b=i(C,"META",{name:!0,content:!0}),C.forEach(v),E=g(d),o=i(d,"DIV",{class:!0});var Y=T(o);l=i(Y,"DIV",{class:!0});var I=T(l);m=i(I,"IMG",{class:!0,src:!0,alt:!0}),M=g(I),_=i(I,"H1",{class:!0,"data-svelte-h":!0}),V(_)!=="svelte-68q4yt"&&(_.textContent=q),r=g(I),a=i(I,"DIV",{class:!0});var f=T(a);p=i(f,"DIV",{});var H=T(p);s=i(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(s)!=="svelte-15brz1k"&&(s.textContent=F),z=g(H),u=i(H,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),H.forEach(v),O=g(f),k=i(f,"DIV",{});var N=T(k);y=i(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(y)!=="svelte-15snypq"&&(y.textContent=Q),j=g(N),c=i(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),N.forEach(v),B=g(f),L=i(f,"DIV",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-23fomi"&&(L.innerHTML=R),$=g(f),S=i(f,"DIV",{});var Z=T(S);w=i(Z,"INPUT",{class:!0,type:!0}),Z.forEach(v),G=g(f),D=i(f,"DIV",{"data-svelte-h":!0}),V(D)!=="svelte-12f8o3w"&&(D.innerHTML=W),f.forEach(v),I.forEach(v),Y.forEach(v),this.h()},h(){e(b,"name","description"),e(b,"content","Svelte demo app"),e(m,"class","h-[100px] w-auto"),le(m.src,P=pe)||e(m,"src",P),e(m,"alt",""),e(_,"class","text-xl font-bold text-center pb-10"),e(s,"class","font-bold inline-block pb-2"),e(s,"for","email"),e(u,"class","input input-bordered"),e(u,"type","email"),e(u,"name","email"),e(u,"placeholder","exemplo@aedb.br"),e(y,"class","font-bold inline-block pb-2"),e(y,"for","password"),e(c,"class","input input-bordered"),e(c,"type","password"),e(c,"name","password"),e(c,"placeholder","******"),e(L,"class","flex"),e(w,"class","btn btn-primary"),e(w,"type","submit"),w.value="Login",e(a,"class","bg-base-100 shadow-xl p-10 flex flex-col gap-4 text-sm"),e(l,"class","h-max mx-auto flex flex-col items-center"),e(o,"class","flex items-center text-text-primary")},m(d,C){t(document.head,b),te(d,E,C),te(d,o,C),t(o,l),t(l,m),t(l,M),t(l,_),t(l,r),t(l,a),t(a,p),t(p,s),t(p,z),t(p,u),U(u,h[0]),t(a,O),t(a,k),t(k,y),t(k,j),t(k,c),U(c,h[1]),t(a,B),t(a,L),t(a,$),t(a,S),t(S,w),t(a,G),t(a,D),J||(X=[A(u,"input",h[4]),A(u,"keypress",h[3]),A(c,"input",h[5]),A(c,"keypress",h[3]),A(w,"click",h[2])],J=!0)},p(d,[C]){C&1&&u.value!==d[0]&&U(u,d[0]),C&2&&c.value!==d[1]&&U(c,d[1])},i:ee,o:ee,d(d){d&&(v(E),v(o)),v(b),J=!1,ne(X)}}}function be(h,b,E){let o,l;async function m(){if(o==null||o.includes("@aedb.br")==!1)alert("E-mail inválido");else if(l==null)alert("Senha inválida");else{const r=await ae.put("usuarios/login",{email:o,senha:l}).catch(s=>{console.log(s),s.response.status==401&&alert("E-mail ou senha inválidos")}),a=await ae.get("usuarios/email",{email:r.email}),p=new ce(a.id,a.idCurso,a.nome,r.email,"",a.papel,null,r.token);de.set(p),M(r,p),me("/biblioteca")}}function P(r){r.key=="Enter"&&m()}function M(r,a){const s=new Date;s.setDate(s.getDate()+2),K.setCookie("email",r.email,s),K.setCookie("token",r.token,s),K.setCookie("login",JSON.stringify(a),s)}function _(){o=this.value,E(0,o)}function q(){l=this.value,E(1,l)}return[o,l,m,P,_,q]}class we extends ie{constructor(b){super(),oe(this,b,be,he,se,{})}}export{we as component,Le as universal};
