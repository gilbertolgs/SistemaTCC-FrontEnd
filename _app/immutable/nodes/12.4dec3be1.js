import{s as se,a as le,n as ee,r as oe}from"../chunks/scheduler.bb0ecb07.js";import{S as ne,i as ie,c as o,s as x,p as re,f as n,d as v,h as g,g as T,k as V,l as e,m as t,a as te,A as U,o as A}from"../chunks/index.659734c4.js";import{p as ue,c as ce,b as de}from"../chunks/stores.add2e089.js";import{A as ae}from"../chunks/axiosInstance.07e2da7d.js";import{C as K}from"../chunks/Cookie.69c16b24.js";import{l as pe}from"../chunks/logoVazia.838c1158.js";import{g as me}from"../chunks/navigation.4648eae0.js";const fe=!0,ve=!0,we=Object.freeze(Object.defineProperty({__proto__:null,csr:ve,prerender:fe},Symbol.toStringTag,{value:"Module"}));function he(h){let _,k,i,l,m,P,M,b,z="Acesse com seu e-mail instrucional.",r,a,u,s,F="Email",q,c,j,y,C,Q="Senha",O,d,B,w,R='<div class="w-1/2"><input type="checkbox" id="remeberMe"/> <label for="remeberMe">Lembrar E-mail</label></div> <div class="w-1/2"><a class="font-bold text-content-primary" href="/">Esqueceu a senha?</a></div>',$,S,L,G,D,W='<a href="cadastro" class="font-bold text-content-primary">Criar Conta</a>',J,X;return document.title=ue+" - Login",{c(){_=o("meta"),k=x(),i=o("div"),l=o("div"),m=o("img"),M=x(),b=o("h1"),b.textContent=z,r=x(),a=o("div"),u=o("div"),s=o("label"),s.textContent=F,q=x(),c=o("input"),j=x(),y=o("div"),C=o("label"),C.textContent=Q,O=x(),d=o("input"),B=x(),w=o("div"),w.innerHTML=R,$=x(),S=o("div"),L=o("input"),G=x(),D=o("div"),D.innerHTML=W,this.h()},l(p){const E=re("svelte-19bpmt6",document.head);_=n(E,"META",{name:!0,content:!0}),E.forEach(v),k=g(p),i=n(p,"DIV",{class:!0});var Y=T(i);l=n(Y,"DIV",{class:!0});var I=T(l);m=n(I,"IMG",{class:!0,src:!0,alt:!0}),M=g(I),b=n(I,"H1",{class:!0,"data-svelte-h":!0}),V(b)!=="svelte-68q4yt"&&(b.textContent=z),r=g(I),a=n(I,"DIV",{class:!0});var f=T(a);u=n(f,"DIV",{class:!0});var H=T(u);s=n(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(s)!=="svelte-zh7xvj"&&(s.textContent=F),q=g(H),c=n(H,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),H.forEach(v),j=g(f),y=n(f,"DIV",{class:!0});var N=T(y);C=n(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(C)!=="svelte-p44ezt"&&(C.textContent=Q),O=g(N),d=n(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),N.forEach(v),B=g(f),w=n(f,"DIV",{class:!0,"data-svelte-h":!0}),V(w)!=="svelte-23fomi"&&(w.innerHTML=R),$=g(f),S=n(f,"DIV",{});var Z=T(S);L=n(Z,"INPUT",{class:!0,type:!0}),Z.forEach(v),G=g(f),D=n(f,"DIV",{"data-svelte-h":!0}),V(D)!=="svelte-12f8o3w"&&(D.innerHTML=W),f.forEach(v),I.forEach(v),Y.forEach(v),this.h()},h(){e(_,"name","description"),e(_,"content","Svelte demo app"),e(m,"class","h-[100px] w-auto"),le(m.src,P=pe)||e(m,"src",P),e(m,"alt",""),e(b,"class","text-xl font-bold text-center pb-10"),e(s,"class","font-bold pb-2"),e(s,"for","email"),e(c,"class","input input-bordered"),e(c,"type","email"),e(c,"name","email"),e(c,"placeholder","exemplo@aedb.br"),e(u,"class","flex flex-col"),e(C,"class","font-bold pb-2"),e(C,"for","password"),e(d,"class","input input-bordered"),e(d,"type","password"),e(d,"name","password"),e(d,"placeholder","******"),e(y,"class","flex flex-col"),e(w,"class","flex"),e(L,"class","btn btn-primary"),e(L,"type","submit"),L.value="Login",e(a,"class","bg-base-100 shadow-xl p-10 flex flex-col gap-4 text-sm"),e(l,"class","h-max mx-auto flex flex-col items-center lg:w-1/2 w-full"),e(i,"class","flex items-center text-text-primary w-full")},m(p,E){t(document.head,_),te(p,k,E),te(p,i,E),t(i,l),t(l,m),t(l,M),t(l,b),t(l,r),t(l,a),t(a,u),t(u,s),t(u,q),t(u,c),U(c,h[0]),t(a,j),t(a,y),t(y,C),t(y,O),t(y,d),U(d,h[1]),t(a,B),t(a,w),t(a,$),t(a,S),t(S,L),t(a,G),t(a,D),J||(X=[A(c,"input",h[4]),A(c,"keypress",h[3]),A(d,"input",h[5]),A(d,"keypress",h[3]),A(L,"click",h[2])],J=!0)},p(p,[E]){E&1&&c.value!==p[0]&&U(c,p[0]),E&2&&d.value!==p[1]&&U(d,p[1])},i:ee,o:ee,d(p){p&&(v(k),v(i)),v(_),J=!1,oe(X)}}}function _e(h,_,k){let i,l;async function m(){if(i==null||i.includes("@aedb.br")==!1)alert("E-mail inválido");else if(l==null)alert("Senha inválida");else{const r=await ae.put("usuarios/login",{email:i,senha:l}).catch(s=>{console.log(s),s.response.status==401&&alert("E-mail ou senha inválidos")}),a=await ae.get("usuarios/email",{email:r.email}),u=new ce(a.id,a.idCurso,a.nome,r.email,"",a.papel,null,r.token);de.set(u),M(r,u),me("/biblioteca")}}function P(r){r.key=="Enter"&&m()}function M(r,a){const s=new Date;s.setDate(s.getDate()+2),K.setCookie("email",r.email,s),K.setCookie("token",r.token,s),K.setCookie("login",JSON.stringify(a),s)}function b(){i=this.value,k(0,i)}function z(){l=this.value,k(1,l)}return[i,l,m,P,b,z]}class Le extends ne{constructor(_){super(),ie(this,_,_e,he,se,{})}}export{Le as component,we as universal};
