var Ue=Object.defineProperty;var Ie=(n,e,t)=>e in n?Ue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>(Ie(n,typeof e!="symbol"?e+"":e,t),t);import{s as we,r as ke,o as je,n as pe,d as Ee,e as $e}from"../chunks/scheduler.bb0ecb07.js";import{S as De,i as ye,c as k,s as x,f as j,g as D,k as B,h as U,d as h,l as v,a as A,m as _,A as W,o as G,q as I,z as ae,r as re,u as P,b as Pe,t as Y,j as Z,n as ee,v as te,w as oe,x as le,y as ne,D as Te,p as Se}from"../chunks/index.659734c4.js";import{b as Ae,U as Ve,p as _e}from"../chunks/stores.add2e089.js";import{D as Me}from"../chunks/DropDown.fe19571e.js";import{M as Ne}from"../chunks/Modal.e4816234.js";import{e as he}from"../chunks/each.e59479a4.js";import{A as X}from"../chunks/axiosInstance.07e2da7d.js";import{P as Le}from"../chunks/Projeto.bfd103f3.js";class Oe{constructor(e,t,c,d,o){z(this,"id");z(this,"idProjeto");z(this,"idUsuario");z(this,"usuario");z(this,"conteudo");this.id=e,this.idProjeto=t,this.idUsuario=c,this.usuario=d,this.conteudo=o}}function ve(n,e,t){const c=n.slice();return c[16]=e[t],c}function ze(n){var a,i;let e,t=n[16].conteudo+"",c,d,o=(n[16].idUsuario==((a=n[4])==null?void 0:a.id)||((i=n[4])==null?void 0:i.papel)=="Administrador")&&be(n);return{c(){o&&o.c(),e=x(),c=Y(t)},l(l){o&&o.l(l),e=U(l),c=Z(l,t)},m(l,u){o&&o.m(l,u),A(l,e,u),A(l,c,u),d=!0},p(l,u){var m,C;l[16].idUsuario==((m=l[4])==null?void 0:m.id)||((C=l[4])==null?void 0:C.papel)=="Administrador"?o?(o.p(l,u),u&18&&I(o,1)):(o=be(l),o.c(),I(o,1),o.m(e.parentNode,e)):o&&(ae(),P(o,1,1,()=>{o=null}),re()),(!d||u&2)&&t!==(t=l[16].conteudo+"")&&ee(c,t)},i(l){d||(I(o),d=!0)},o(l){P(o),d=!1},d(l){l&&(h(e),h(c)),o&&o.d(l)}}}function Be(n){let e,t,c,d,o,a,i=`<span class="material-symbols-outlined">done</span>
                    Salvar`,l,u,m=`<span class="material-symbols-outlined">close</span>
                    Cancelar`,C,E;function y(){return n[12](n[16])}function p(){return n[13](n[16])}return{c(){e=k("div"),t=k("textarea"),d=x(),o=k("div"),a=k("button"),a.innerHTML=i,l=x(),u=k("button"),u.innerHTML=m,this.h()},l(r){e=j(r,"DIV",{class:!0});var b=D(e);t=j(b,"TEXTAREA",{placeholder:!0,class:!0}),D(t).forEach(h),d=U(b),o=j(b,"DIV",{class:!0});var f=D(o);a=j(f,"BUTTON",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-1nvd7vk"&&(a.innerHTML=i),l=U(f),u=j(f,"BUTTON",{class:!0,"data-svelte-h":!0}),B(u)!=="svelte-1redf91"&&(u.innerHTML=m),f.forEach(h),b.forEach(h),this.h()},h(){v(t,"placeholder",c=n[16].conteudo),v(t,"class","textarea textarea-bordered col-span-5 resize-none"),v(a,"class","w-full ml-auto mb-auto p-3 pb-2 flex justify-center btn btn-success"),v(u,"class","w-full ml-auto mb-auto p-3 pb-2 flex justify-center btn btn-error"),v(o,"class","ml-auto mb-auto"),v(e,"class","grid grid-flow-col")},m(r,b){A(r,e,b),_(e,t),W(t,n[3]),_(e,d),_(e,o),_(o,a),_(o,l),_(o,u),C||(E=[G(t,"input",n[11]),G(a,"click",y),G(u,"click",p)],C=!0)},p(r,b){n=r,b&2&&c!==(c=n[16].conteudo)&&v(t,"placeholder",c),b&8&&W(t,n[3])},i:pe,o:pe,d(r){r&&h(e),C=!1,ke(E)}}}function be(n){let e,t,c="more_vert",d,o,a,i;return a=new Me({props:{id:n[16].id,dados:n[6].aluno,perfil:null}}),{c(){e=k("button"),t=k("span"),t.textContent=c,d=x(),o=k("div"),te(a.$$.fragment),this.h()},l(l){e=j(l,"BUTTON",{class:!0});var u=D(e);t=j(u,"SPAN",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1wa0ecf"&&(t.textContent=c),d=U(u),o=j(u,"DIV",{class:!0});var m=D(o);oe(a.$$.fragment,m),m.forEach(h),u.forEach(h),this.h()},h(){v(t,"class","material-symbols-outlined hover:scale-110"),v(o,"class","dropDownComponent group-hover:openDropDownComponent"),v(e,"class","absolute right-3 transition-all group")},m(l,u){A(l,e,u),_(e,t),_(e,d),_(e,o),le(a,o,null),i=!0},p(l,u){const m={};u&2&&(m.id=l[16].id),a.$set(m)},i(l){i||(I(a.$$.fragment,l),i=!0)},o(l){P(a.$$.fragment,l),i=!1},d(l){l&&h(e),ne(a)}}}function ge(n){let e,t,c=n[16].usuario.nome+"",d,o,a,i,l,u,m;const C=[Be,ze],E=[];function y(p,r){return p[2]==p[16].id?0:1}return i=y(n),l=E[i]=C[i](n),{c(){e=k("li"),t=k("a"),d=Y(c),a=x(),l.c(),u=x(),this.h()},l(p){e=j(p,"LI",{class:!0});var r=D(e);t=j(r,"A",{href:!0,class:!0});var b=D(t);d=Z(b,c),b.forEach(h),a=U(r),l.l(r),u=U(r),r.forEach(h),this.h()},h(){v(t,"href",o="usuario?id="+n[16].idUsuario),v(t,"class","text-content-primary underline hover:brightness-90"),v(e,"class","flex flex-col mb-3 border border-base-20 p-3 rounded-lg relative")},m(p,r){A(p,e,r),_(e,t),_(t,d),_(e,a),E[i].m(e,null),_(e,u),m=!0},p(p,r){(!m||r&2)&&c!==(c=p[16].usuario.nome+"")&&ee(d,c),(!m||r&2&&o!==(o="usuario?id="+p[16].idUsuario))&&v(t,"href",o);let b=i;i=y(p),i===b?E[i].p(p,r):(ae(),P(E[b],1,1,()=>{E[b]=null}),re(),l=E[i],l?l.p(p,r):(l=E[i]=C[i](p),l.c()),I(l,1),l.m(e,u))},i(p){m||(I(l),m=!0)},o(p){P(l),m=!1},d(p){p&&h(e),E[i].d()}}}function He(n){let e,t,c="Comentarios:",d,o,a,i,l="Comentar",u,m,C,E,y,p=he(n[1]),r=[];for(let f=0;f<p.length;f+=1)r[f]=ge(ve(n,p,f));const b=f=>P(r[f],1,1,()=>{r[f]=null});return{c(){e=k("div"),t=k("h1"),t.textContent=c,d=x(),o=k("textarea"),a=x(),i=k("button"),i.textContent=l,u=x(),m=k("ul");for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=j(f,"DIV",{class:!0});var w=D(e);t=j(w,"H1",{"data-svelte-h":!0}),B(t)!=="svelte-170hvhk"&&(t.textContent=c),d=U(w),o=j(w,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,class:!0}),D(o).forEach(h),a=U(w),i=j(w,"BUTTON",{class:!0,"data-svelte-h":!0}),B(i)!=="svelte-1kmgzkz"&&(i.textContent=l),w.forEach(h),u=U(f),m=j(f,"UL",{class:!0});var s=D(m);for(let T=0;T<r.length;T+=1)r[T].l(s);s.forEach(h),this.h()},h(){v(o,"name",""),v(o,"id",""),v(o,"cols","30"),v(o,"rows","4"),v(o,"class","textarea textarea-bordered resize-none border-2"),v(i,"class","btn btn-primary w-20 mt-2 ml-auto"),v(e,"class","flex flex-col my-2 border border-base-20 p-3 rounded-lg"),v(m,"class","mt-5")},m(f,w){A(f,e,w),_(e,t),_(e,d),_(e,o),W(o,n[0]),_(e,a),_(e,i),A(f,u,w),A(f,m,w);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(m,null);C=!0,E||(y=[G(o,"input",n[10]),G(i,"click",n[5])],E=!0)},p(f,[w]){if(w&1&&W(o,f[0]),w&478){p=he(f[1]);let s;for(s=0;s<p.length;s+=1){const T=ve(f,p,s);r[s]?(r[s].p(T,w),I(r[s],1)):(r[s]=ge(T),r[s].c(),I(r[s],1),r[s].m(m,null))}for(ae(),s=p.length;s<r.length;s+=1)b(s);re()}},i(f){if(!C){for(let w=0;w<p.length;w+=1)I(r[w]);C=!0}},o(f){r=r.filter(Boolean);for(let w=0;w<r.length;w+=1)P(r[w]);C=!1},d(f){f&&(h(e),h(u),h(m)),Pe(r,f),E=!1,ke(y)}}}function qe(n,e,t){let{projeto:c}=e,d,o=[],a,i,l;Ae.subscribe(s=>{t(4,l=s)});async function u(){t(1,o=await X.get("projetoComentarios",{idProjeto:c.id}))}je(u);async function m(){if(l){let s=new Oe(0,c.id,l.id,new Ve(0,"null","null","null","null","null"),d);await X.post("projetoComentarios/criarComentario",s),t(0,d=""),u()}}const C={admin:[{nome:"Excluir Comentario",botao:s=>p(s)}],aluno:[{nome:"Editar Comentario",botao:s=>y(s)},{nome:"Excluir Comentario",botao:s=>p(s)}]};async function E(s){const T={id:s,conteudo:i};await X.put("projetoComentarios/atualizarComentario",T),y(s),u()}function y(s){var S;const T=(S=o.find(H=>H.id==s))==null?void 0:S.conteudo;T&&t(3,i=T),t(2,a=s==a?0:s)}async function p(s){await X.delete(`projetoComentarios/${s}/deletarComentario`),u()}function r(){d=this.value,t(0,d)}function b(){i=this.value,t(3,i)}const f=s=>{E(s.id)},w=s=>{y(s.id)};return n.$$set=s=>{"projeto"in s&&t(9,c=s.projeto)},[d,o,a,i,l,m,C,E,y,c,r,b,f,w]}class Re extends De{constructor(e){super(),ye(this,e,qe,He,we,{projeto:9})}}const Xe=!0,Ge=!0,nt=Object.freeze(Object.defineProperty({__proto__:null,csr:Ge,prerender:Xe},Symbol.toStringTag,{value:"Module"}));function Ce(n){let e,t,c;function d(a){n[5](a)}let o={};return n[0]!==void 0&&(o.projeto=n[0]),e=new Re({props:o}),Ee.push(()=>Te(e,"projeto",d)),{c(){te(e.$$.fragment)},l(a){oe(e.$$.fragment,a)},m(a,i){le(e,a,i),c=!0},p(a,i){const l={};!t&&i&1&&(t=!0,l.projeto=a[0],$e(()=>t=!1)),e.$set(l)},i(a){c||(I(e.$$.fragment,a),c=!0)},o(a){P(e.$$.fragment,a),c=!1},d(a){ne(e,a)}}}function Je(n){let e,t,c,d,o,a,i,l,u,m,C,E=n[0].nome+"",y,p,r,b,f,w="settings",s,T,S,H,L,q=n[0].descricao+"",J,se,O,V;document.title=e=_e+" - "+n[0].nome+" ";function xe(g){n[4](g)}let ie={dados:n[3]};n[2]!==void 0&&(ie.toggleModal=n[2]),d=new Ne({props:ie}),Ee.push(()=>Te(d,"toggleModal",xe)),S=new Me({props:{id:0,dados:n[1],perfil:null}});let $=n[0].id!=0&&Ce(n);return{c(){t=k("meta"),c=x(),te(d.$$.fragment),a=x(),i=k("div"),l=k("div"),u=k("div"),m=k("div"),C=k("h1"),y=Y(E),p=x(),r=k("div"),b=k("button"),f=k("span"),f.textContent=w,s=x(),T=k("div"),te(S.$$.fragment),H=x(),L=k("p"),J=Y(q),se=x(),O=k("div"),$&&$.c(),this.h()},l(g){const M=Se("svelte-19fnyjp",document.head);t=j(M,"META",{name:!0,content:!0}),M.forEach(h),c=U(g),oe(d.$$.fragment,g),a=U(g),i=j(g,"DIV",{class:!0});var R=D(i);l=j(R,"DIV",{class:!0});var N=D(l);u=j(N,"DIV",{class:!0});var Q=D(u);m=j(Q,"DIV",{class:!0});var F=D(m);C=j(F,"H1",{class:!0});var ue=D(C);y=Z(ue,E),ue.forEach(h),p=U(F),r=j(F,"DIV",{});var ce=D(r);b=j(ce,"BUTTON",{class:!0});var K=D(b);f=j(K,"SPAN",{class:!0,"data-svelte-h":!0}),B(f)!=="svelte-1bqlx72"&&(f.textContent=w),s=U(K),T=j(K,"DIV",{class:!0});var de=D(T);oe(S.$$.fragment,de),de.forEach(h),K.forEach(h),ce.forEach(h),F.forEach(h),H=U(Q),L=j(Q,"P",{class:!0});var fe=D(L);J=Z(fe,q),fe.forEach(h),Q.forEach(h),se=U(N),O=j(N,"DIV",{});var me=D(O);$&&$.l(me),me.forEach(h),N.forEach(h),R.forEach(h),this.h()},h(){v(t,"name","description"),v(t,"content","Svelte demo app"),v(C,"class","text-text-secondary font-bold inline-block pb-3 flex-1"),v(f,"class","material-symbols-outlined justify-end group-hover:rotate-45 transition-all"),v(T,"class","dropDownComponent group-hover:openDropDownComponent"),v(b,"class","m-0 p-0 group"),v(m,"class","flex w-full justify-center"),v(L,"class","text-text-secondary font-bold inline-block pb-2"),v(u,"class","flex flex-col items-center"),v(l,"class","bg-base-100 shadow-xl p-10 flex flex-col gap-4 text-sm rounded-xl w-full divide-y divide-bg-base-200"),v(i,"class","flex items-center h-max mx-auto flex-col w-full text-text-primary")},m(g,M){_(document.head,t),A(g,c,M),le(d,g,M),A(g,a,M),A(g,i,M),_(i,l),_(l,u),_(u,m),_(m,C),_(C,y),_(m,p),_(m,r),_(r,b),_(b,f),_(b,s),_(b,T),le(S,T,null),_(u,H),_(u,L),_(L,J),_(l,se),_(l,O),$&&$.m(O,null),V=!0},p(g,[M]){(!V||M&1)&&e!==(e=_e+" - "+g[0].nome+" ")&&(document.title=e);const R={};!o&&M&4&&(o=!0,R.toggleModal=g[2],$e(()=>o=!1)),d.$set(R),(!V||M&1)&&E!==(E=g[0].nome+"")&&ee(y,E);const N={};M&2&&(N.dados=g[1]),S.$set(N),(!V||M&1)&&q!==(q=g[0].descricao+"")&&ee(J,q),g[0].id!=0?$?($.p(g,M),M&1&&I($,1)):($=Ce(g),$.c(),I($,1),$.m(O,null)):$&&(ae(),P($,1,1,()=>{$=null}),re())},i(g){V||(I(d.$$.fragment,g),I(S.$$.fragment,g),I($),V=!0)},o(g){P(d.$$.fragment,g),P(S.$$.fragment,g),P($),V=!1},d(g){g&&(h(c),h(a),h(i)),h(t),ne(d,g),ne(S),$&&$.d()}}}function Qe(n,e,t){let c=localStorage.getItem("login");c&&(c=JSON.parse(c));let d="",o,a=new Le(0,0,0,"","",null);function i(){const p=new URLSearchParams(window.location.search);d+=p.toString().split("=")[1],o=parseInt(d),t(1,m[0].link=`configuracoes-projeto?id=${o}`,m),l()}async function l(){t(0,a=await X.get(`projetos/${o}`))}je(i);let u,m=[{link:"configuracoes-projeto",nome:"Gerenciar Projeto"}],C;function E(p){C=p,t(2,C)}function y(p){a=p,t(0,a)}return[a,m,C,u,E,y]}class at extends De{constructor(e){super(),ye(this,e,Qe,Je,we,{})}}export{at as component,nt as universal};
